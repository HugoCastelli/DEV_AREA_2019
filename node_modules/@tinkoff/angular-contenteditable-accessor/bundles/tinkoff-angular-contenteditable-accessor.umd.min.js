!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/forms"),require("@angular/core")):"function"==typeof define&&define.amd?define("@tinkoff/angular-contenteditable-accessor",["exports","@angular/forms","@angular/core"],t):t((e.tinkoff=e.tinkoff||{},e.tinkoff["angular-contenteditable-accessor"]={}),e.ng.forms,e.ng.core)}(this,function(e,t,n){"use strict";var r=function(){function r(e,t){var n=this;this.elementRef=e,this.renderer=t,this.observer=new MutationObserver(function(){setTimeout(function(){n.onChange(r.processValue(n.elementRef.nativeElement.innerHTML))})}),this.onTouched=function(){},this.onChange=function(){}}return r.prototype.ngAfterViewInit=function(){this.observer.observe(this.elementRef.nativeElement,{characterData:!0,childList:!0,subtree:!0})},r.prototype.ngOnDestroy=function(){this.observer.disconnect()},r.prototype.onInput=function(){this.observer.disconnect(),this.onChange(r.processValue(this.elementRef.nativeElement.innerHTML))},r.prototype.onBlur=function(){this.onTouched()},r.prototype.writeValue=function(e){this.renderer.setProperty(this.elementRef.nativeElement,"innerHTML",r.processValue(e))},r.prototype.registerOnChange=function(e){this.onChange=e},r.prototype.registerOnTouched=function(e){this.onTouched=e},r.prototype.setDisabledState=function(e){this.renderer.setAttribute(this.elementRef.nativeElement,"contenteditable",String(!e))},r.processValue=function(e){var t=e||"";return"<br>"===t.trim()?"":t},r.decorators=[{type:n.Directive,args:[{selector:"[contenteditable][formControlName], [contenteditable][formControl], [contenteditable][ngModel]",providers:[{provide:t.NG_VALUE_ACCESSOR,useExisting:n.forwardRef(function(){return r}),multi:!0}]}]}],r.ctorParameters=function(){return[{type:n.ElementRef,decorators:[{type:n.Inject,args:[n.ElementRef]}]},{type:n.Renderer2,decorators:[{type:n.Inject,args:[n.Renderer2]}]}]},r.propDecorators={onInput:[{type:n.HostListener,args:["input"]}],onBlur:[{type:n.HostListener,args:["blur"]}]},r}(),o=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[r],exports:[r]}]}],e}();e.ContenteditableValueAccessor=r,e.ContenteditableValueAccessorModule=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=tinkoff-angular-contenteditable-accessor.umd.min.js.map